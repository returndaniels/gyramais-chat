{"version":3,"sources":["routes/privateRoute.js","state/auth/authActionTypes.js","state/auth/authActions.js","components/Join/useJoinForm.js","components/Join/JoinFromValidation.js","assets/loadingio.svg","components/Join/JoinForm.js","assets/logo.svg","pages/SignIn.js","components/Chat/Header.js","components/Chat/Footer.js","components/Chat/Message.js","components/Chat/MessageStory.js","state/messages/messageActionTypes.js","state/messages/messageActions.js","pages/useChat.js","pages/Chat.js","routes/index.js","App.js","api/socketAPI.js","reportWebVitals.js","state/middlewares/logger.js","state/auth/authReducer.js","state/messages/messageReducer.js","state/rootReducer.js","index.js","state/configureStore.js"],"names":["PrivateRoute","Component","component","socket","rest","user","useSelector","state","auth","render","props","to","pathname","from","location","SIGNIN_STARTED","SIGNIN_SUCCEEDED","SIGNIN_FAILED","SIGNOUT_STARTED","signIn","credentials","dispatch","type","actionTypes","emit","on","payload","signInSucceeded","localStorage","setItem","JSON","stringify","error","signInFailed","signOut","removeItem","useJoinForm","validate","useDispatch","isLoading","useState","name","setName","detail","formError","setFormError","isSubmitting","setIsSubmitting","useEffect","islogged","handleChange","event","target","value","handleSubmit","preventDefault","validationErrors","handleBlur","submitting","signInFormValidation","JoinForm","className","JoinFormValidation","onSubmit","placeholder","onChange","onBlur","style","alt","src","loadingIo","disabled","SignIn","logo","Header","handleLogOut","onClick","window","confirm","Footer","sendMessage","message","setMessage","rows","cols","e","resize","Message","highlighted","text","date","MessageStory","messages","formatStringDate","formatedString","slice","map","index","SAVE_MESSAGES","SET_MESSAGE","useChat","errors","setError","saveMessages","Chat","Routes","exact","path","io","connect","reconnection","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","logger","store","next","action","console","group","info","result","log","getState","groupEnd","initialState","getItem","parse","reducer","combineReducers","rootReducer","undefined","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","middlewares","thunk","loggerMiddleware","middlewareEnhancer","applyMiddleware","createStore","configureStore","ReactDOM","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.17e8cc5e.chunk.js","sourcesContent":["import React from 'react';\nimport { Redirect, Route } from 'react-router-dom';\nimport { useSelector } from 'react-redux';\n\nfunction PrivateRoute({ component: Component, socket, ...rest }) {\n  const { user } = useSelector(state => state.auth);\n  return (\n    <Route\n      {...rest}\n      render={props =>\n          user ? (\n            <Component socket={socket} />) : (\n            <Redirect\n              to={{\n                pathname: '/',\n                state: { from: props.location },\n              }}\n            />\n          )\n      }\n    />\n  );\n}\n\nexport default PrivateRoute;\n","export const SIGNIN_STARTED = 'SIGNIN_STARTED';\nexport const SIGNIN_SUCCEEDED = 'SIGNIN_SUCCEEDED';\nexport const SIGNIN_FAILED = 'SIGNIN_FAILED';\n\nexport const SIGNOUT_STARTED = 'SIGNOUT_STARTED';\n","import * as actionTypes from './authActionTypes';\n\nexport function signInStarted() {\n  return {\n    type: actionTypes.SIGNIN_STARTED,\n  };\n}\n\nexport function signInSucceeded(user) {\n  return {\n    type: actionTypes.SIGNIN_SUCCEEDED,\n    payload: {\n      user,\n    },\n  };\n}\n\nexport function signInFailed(error) {\n  return {\n    type: actionTypes.SIGNIN_FAILED,\n    payload: {\n      error,\n    },\n  };\n}\n\nexport function signIn(credentials, socket) {\n  return (dispatch) => {\n    dispatch(signInStarted());\n\n    socket.emit('join', credentials);\n\n    socket.on('userJoined', user => {\n      dispatch(signInSucceeded(user));\n      localStorage.setItem('user', JSON.stringify(user));\n    });\n\n    socket.on('userJoinError', error => {\n      dispatch(signInFailed(error));\n    })\n  };\n}\n\nfunction signOutStarted() {\n  return {\n    type: actionTypes.SIGNOUT_STARTED,\n  };\n}\n\nexport function signOut(socket, user) {\n  return (dispatch) => {\n    socket.emit('userLoggedOut', user);\n    localStorage.removeItem('user');\n    dispatch(signOutStarted());\n  };\n}\n","import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { signIn } from '../../state/auth/authActions';\n\nfunction useJoinForm(socket, validate) {\n  const dispatch = useDispatch();\n  const { isLoading, error } = useSelector((state) => state.auth);\n\n  const [name, setName] = useState('');\n  const [formError, setFormError] = useState(error?.detail);\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  useEffect(() => {\n    if (isSubmitting && isLoading === false) {\n      if (!formError) {\n        dispatch(signIn({ name, islogged: true }, socket));\n        setIsSubmitting(false);\n      } else {\n        setIsSubmitting(false);\n      }\n    }\n  }, [formError, name, isSubmitting, isLoading, socket, dispatch]);\n\n  useEffect(() => { \n    setFormError(error?.detail);\n  },[error]);\n\n  function handleChange(event) {\n    setName(event.target.value);\n  }\n\n  function handleBlur() {\n    const validationErrors = validate(name);\n    setFormError(validationErrors);\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    const validationErrors = validate(name);\n    setFormError(validationErrors);\n    setIsSubmitting(true);\n  }\n\n  return {\n    handleChange,\n    handleSubmit,\n    handleBlur,\n    name,\n    formError,\n    submitting: isSubmitting || isLoading,\n  };\n}\n\nexport default useJoinForm;","export default function signInFormValidation(name) {\n  var error = null;\n\n  if (!name) {\n    error = 'Forneça um nome de usuário';\n  }\n\n  return error;\n}\n","export default __webpack_public_path__ + \"static/media/loadingio.69540cde.svg\";","import React from 'react';\nimport useJoinForm from './useJoinForm';\nimport JoinFormValidation from './JoinFromValidation';\nimport loadingIo from '../../assets/loadingio.svg';\nimport './JoinFrom.css';\n\nconst JoinForm = ({ socket, className }) => {\n  const {\n    handleChange,\n    handleSubmit,\n    handleBlur,\n    name,\n    formError,\n    submitting,\n  } = useJoinForm(socket, JoinFormValidation);\n\n  return (\n    <div className={`joinContainer ${className}`}>\n      <div className=\"joinInnerContainer\">\n        <h1 className=\"heading\">Bem vindo ao nosso chat aberto!</h1>\n        <h3 className=\"heading subtitle\">Escolha seu nome de usuário antes de entrar.</h3>\n        <form onSubmit={handleSubmit} className=\"joinForm\">\n          <input \n            placeholder=\"Digite um nome de usuário\" \n            className=\"joinInput\" \n            type=\"text\" \n            value={name}\n            onChange={handleChange} \n            onBlur={handleBlur}\n            style={formError ? { 'border-color': 'red' } : {}}\n          />\n          <div className=\"error\">{formError}</div>\n          <div className=\"submitContainer\">\n            {submitting && <img alt=\"loaging...\" src={loadingIo} />}\n            <button type=\"submit\" className=\"\" disabled={submitting} style={{}}>\n                Acessar\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nexport default JoinForm;\n","export default __webpack_public_path__ + \"static/media/logo.32179390.svg\";","import React from 'react';\nimport { useSelector } from 'react-redux';\nimport { Redirect } from 'react-router-dom';\nimport JoinForm from '../components/Join/JoinForm';\nimport logo from '../assets/logo.svg'\nimport './SignIn.css';\n\nconst SignIn = ({ socket }) => { \n\tconst { user } = useSelector((state) => state.auth);\n\n\treturn user ? (\n\t\t<Redirect to=\"/chat\" />\n\t\t) : (\n\t\t\t<div className=\"signInPage\">\n\t\t\t\t<div className=\"header\">\n\t\t\t\t\t<img alt=\"logo\" src={logo} />\n\t\t\t\t</div>\n\t\t\t\t<JoinForm\n\t\t\t\t\t\tclassName=\"jForm\"\n\t\t\t\t\t\tsocket={socket}\n\t\t\t\t></JoinForm>\n\t\t\t</div>);\n};\n\nexport default SignIn;","import React from 'react';\nimport logo from '../../assets/logo.svg';\nimport './Header.css';\n\nconst Header = ({ handleLogOut }) => {\n\treturn (\n\t\t<div className=\"chatHeader\">\n\t\t\t\t<img alt={logo} src={logo} />\n\t\t\t\t<button \n\t\t\t\t\tonClick={()=> {\n\t\t\t\t\t\tif(window.confirm(\"Deseja sair?\")){\n\t\t\t\t\t\t\thandleLogOut();\n\t\t\t\t\t\t}\n\t\t\t\t\t}}\n\t\t\t\t/>\n\t\t</div>\n\t);\n};\n\nexport default Header;","import React, { useState } from 'react';\nimport './Footer.css';\n\nconst Footer = ({ sendMessage, className }) => {\n\tconst [message, setMessage] = useState('');\n\n\treturn (\n\t\t<footer className={`footer ${className}`}>\n\t\t\t<textarea\n\t\t\t\trows=\"2\" \n\t\t\t\tcols=\"50\"\n\t\t\t\tplaceholder=\"Digite uma mensagem...\"\n\t\t\t\tvalue={message}\n\t\t\t\tonChange={e => {\n\t\t\t\t\te.preventDefault();\n\t\t\t\t\tsetMessage(e.target.value);\n\t\t\t\t}}\n\t\t\t\tstyle={{resize: \"none\"}}\n\t\t\t></textarea>\n\t\t\t<button \n\t\t\t\t\tonClick={()=> {\n\t\t\t\t\t\tsendMessage(message);\n\t\t\t\t\t\tsetMessage('');\n\t\t\t\t\t}}\n\t\t\t>\n\t\t\t\tEnviar\n\t\t\t</button>\n\t\t</footer>\n\t);\n};\n\nexport default Footer;","import React from 'react';\nimport './Message.css';\n\nconst Message = ({ message, highlighted }) => {\n\treturn (\n\t\t<div \n\t\t\tclassName={\n\t\t\t\thighlighted ? 'message highlighted': 'message'\n\t\t\t} \n\t\t>\n\t\t\t<strong>{message.user}</strong>\n\t\t\t<p>{message.text}</p>\n\t\t\t{message.date && <div className='date'>{message.date}</div>}\n\t\t</div>\n\t);\n};\n\nexport default Message;","import React from 'react';\nimport Message from './Message';\nimport ScrollToBotton from 'react-scroll-to-bottom';\nimport './MessageStory.css';\n\nconst MessageStory = ({ messages, user, className }) => {\n\n\tconst formatStringDate = date => {\n\t\tif(!date) return date;\n\t\tvar formatedString = '';\n\t\tformatedString += `${date.slice(11, 16)} - `;\n\t\tformatedString += `${date.slice(8, 10)}/`;\n\t\tformatedString += `${date.slice(5, 7)}/`;\n\t\tformatedString += `${date.slice(0, 4)}`;\n\t\treturn formatedString;\n\t}\n\n\treturn (\n\t\t<ScrollToBotton className={`MessageStory ${className}`}>\n\t\t\t{messages.map((message, index) =>\n\t\t\t\t<Message \n\t\t\t\t\tkey={index}\n\t\t\t\t\tmessage={{\n\t\t\t\t\t\t...message, \n\t\t\t\t\t\tdate: formatStringDate(message.date)\n\t\t\t\t\t}} \n\t\t\t\t\thighlighted={message.user === user.name} \n\t\t\t\t/>\n\t\t)}\n\t\t</ScrollToBotton>\n\t);\n};\n\nexport default MessageStory;","export const SAVE_MESSAGES = 'SAVE_MESSAGES';\nexport const SET_MESSAGE = 'SET_MESSAGE';\n","import * as actionTypes from './messageActionTypes';\n\nexport function saveMessages(messages) {\n  return (dispatch) => {\n    dispatch({\n      type: actionTypes.SAVE_MESSAGES,\n      payload: {\n        messages,\n      },\n    });\n  };\n}\n\nexport function setMessage(message) {\n  return (dispatch) => {\n    dispatch({\n      type: actionTypes.SET_MESSAGE,\n      payload: {\n        message\n      }\n    });\n  };\n}\n","import { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { signOut } from '../state/auth/authActions';\nimport { setMessage, saveMessages } from '../state/messages/messageActions';\n\nfunction useChat(socket) {\n\tconst dispatch = useDispatch();\n\tconst { messages } = useSelector(state => state.messages);\n\tconst { user } = useSelector(state => state.auth);\n\tconst [errors, setError] = useState([]);\n\n\tuseEffect(()=>{\n\t\tsocket.emit('previusMessagesRequest');\n\t\tsocket.emit('userLoggedIn', user);\n\t}, [socket, user]);\n\n\tuseEffect(() => {\n\t\tsocket.on('previusMessagesResponse', messages => {\n\t\t\tdispatch(saveMessages(messages));\n\t\t});\n\t\tsocket.on('message', message => {\n\t\t\tdispatch(setMessage(message));\n\t\t});\n\t\tsocket.on('userJoinedEvent', event => {\n\t\t\tdispatch(setMessage(event));\n\t\t});\n\t  \n    }, [dispatch, socket]);\n\n    const sendMessage = message => {\n\t\tsocket.emit('sendMessage', { user, message }, error => {\n\t\t\tsetError([...errors, error]);\n\t\t});\n    };\n\n    const handleLogOut = () => {\n        dispatch(signOut(socket, user));\n    }\n    \n    return {\n        user,\n        messages,\n        errors,\n        sendMessage,\n        handleLogOut\n    }\n};\n\nexport default useChat","import React from 'react';\nimport Header from '../components/Chat/Header';\nimport Footer from '../components/Chat/Footer';\nimport MessageStory from \"../components/Chat/MessageStory\";\nimport useChat from './useChat';\nimport './Chat.css'\n\nconst Chat = ({ socket }) => {\n\tconst { user, messages, sendMessage, handleLogOut } = useChat(socket);\n\n  return (\n\t\t<div className=\"Chat\">\n\t\t\t<Header handleLogOut={handleLogOut}></Header>\n\t\t\t<MessageStory\n\t\t\t\tuser={user}\n\t\t\t\tmessages={messages}\n\t\t\t>\n\t\t\t</MessageStory>\n\t\t\t<Footer className=\"footerChat\" sendMessage={sendMessage}></Footer>\n\t\t</div>\n\t);\n};\n\nexport default Chat;","import React from 'react';\nimport { BrowserRouter, Switch, Route } from 'react-router-dom';\nimport PrivateRoute from './privateRoute';\n\nimport { SignIn, Chat } from '../pages'\n\nconst Routes = ({ socket }) => (\n  <BrowserRouter>\n    <Switch>\n      <Route exact path=\"/\" render={() => <SignIn socket={socket} />} />\n      <PrivateRoute path=\"/chat\" component={Chat} socket={socket}/>\n    </Switch>\n  </BrowserRouter>\n);\n\nexport default Routes;\n","import Routes from './routes'\nimport * as socketApi from './api/socketAPI';\nimport './App.css';\n\nvar socket = socketApi.connect();\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Routes socket={socket} />\n    </div>\n  );\n}\n\nexport default App;\n","import io from 'socket.io-client';\n\nconst connect = () => {\n    var socket = io.connect(`https://gyramais-chat.herokuapp.com`, {\n        reconnection: true,\n    });\n\n    return socket;\n};\n\nexport { connect };","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","const logger = store => next => action => {\n  console.group(action.type);\n  console.info('dispatching', action);\n  const result = next(action);\n  console.log('next state', store.getState());\n  console.groupEnd();\n  return result;\n};\n\nexport default logger;\n","import * as actionTypes from './authActionTypes';\n\nconst userFromStorage = localStorage.getItem('user')\n  ? JSON.parse(localStorage.getItem('user'))\n  : null;\n\nconst initialState = {\n  isLoading: false,\n  user: userFromStorage,\n  error: null,\n};\n\nexport default function authReducer(state = initialState, action) {\n  switch (action.type) {\n    case actionTypes.SIGNIN_STARTED:\n      return {\n        ...state,\n        isLoading: true,\n        error: null,\n      };\n    case actionTypes.SIGNIN_SUCCEEDED:\n      return {\n        ...state,\n        isLoading: false,\n        user: action.payload.user,\n        error: null,\n      };\n    case actionTypes.SIGNIN_FAILED:\n      return {\n        ...state,\n        isLoading: false,\n        error: action.payload.error,\n      };\n    case actionTypes.SIGNOUT_STARTED:\n      return {\n        ...state,\n        user: null,\n      };\n    default:\n      return state;\n  }\n}\n","import * as actionTypes from './messageActionTypes';\n\nconst initialState = {\n  isLoading: false,\n  messages: [],\n  error: null,\n};\n\nexport default function messageReducer(state = initialState, action) {\n  switch (action.type) {\n    case actionTypes.SAVE_MESSAGES:\n      return {\n        ...state,\n        isLoading: false,\n        messages: action.payload.messages,\n        error: null,\n      };\n    case actionTypes.SET_MESSAGE:\n      return {\n        ...state,\n        isLoading: false,\n        messages: [...state.messages, action.payload.message],\n        error: null,\n      };\n    default:\n      return state;\n  }\n}\n","import { combineReducers } from 'redux';\n\nimport authReducer from './auth/authReducer';\nimport messageReducer from \"./messages/messageReducer\";\n\nimport { SIGNOUT_STARTED } from './auth/authActionTypes';\n\nconst reducer = combineReducers({\n  auth: authReducer,\n  messages: messageReducer\n});\n\nconst rootReducer = (state, action) => {\n  if (action.type === SIGNOUT_STARTED) {\n    state = undefined;\n  }\n\n  return reducer(state, action);\n};\n\nexport default rootReducer;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport configureStore from './state/configureStore';\n\nconst store = configureStore();\n\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <App />\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunk from 'redux-thunk';\nimport loggerMiddleware from './middlewares/logger';\n\nimport rootReducer from './rootReducer';\n\nconst configureStore = () => {\n  const composeEnhancers =\n    window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\n  const middlewares = [thunk, loggerMiddleware];\n  const middlewareEnhancer = applyMiddleware(...middlewares);\n\n  return {\n    ...createStore(rootReducer, {}, composeEnhancers(middlewareEnhancer)),\n  };\n};\n\nexport default configureStore;\n"],"sourceRoot":""}